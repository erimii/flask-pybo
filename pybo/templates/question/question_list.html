{% extends 'base.html' %}
{% block content %}

<div class="top-action-bar">
  <div class="left">
    <a href="{{ url_for('question.create') }}" class="btn">ğŸ–‹ ì§ˆë¬¸ ë“±ë¡</a>
  </div>

  <form method="get" action="{{ url_for('question._list') }}" class="right search-form-inline">
    <input type="text" name="kw" value="{{ kw }}" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
    <button type="submit" class="btn btn-search">ê²€ìƒ‰</button>
  </form>
</div>


    {% if question_list %}
	<table class="question-table">
	  <thead>
		<tr>
		  <th>ë²ˆí˜¸</th>
		  <th style="width:45%">ì œëª©</th>
		  <th>ì‘ì„±ì</th>
		  <th>ì‘ì„±ì¼ì‹œ</th>
		</tr>
	  </thead>
	  <tbody>
		{% for question in pagination.items %}
		<tr>
		  <td>#{{ question.id }}</td>
		  <td>
			<a href="{{ url_for('question.detail', question_id=question.id) }}">
			  {{ question.subject }}
			</a>
			<span class="answer-count">[{{ question.answer_set|length }}]</span>
		  </td>
		  <td>{{ question.user.username }}</td>
		  <td class="date-cell">{{ question.create_date.strftime('%Y-%m-%d %H:%M') }}</td>
		</tr>
		{% endfor %}
	  </tbody>
	</table>
    {% else %}
        <p>ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endif %}
	<div class="pagination">
	  {% if pagination.has_prev %}
		<a href="{{ url_for('question._list', page=pagination.prev_num, kw=kw) }}">Â« ì´ì „</a>
	  {% endif %}

	  {% for p in pagination.iter_pages(left_edge=1, right_edge=1, left_current=2, right_current=2) %}
		{% if p %}
		  {% if p == pagination.page %}
			<strong>{{ p }}</strong>
		  {% else %}
			<a href="{{ url_for('question._list', page=p) }}">{{ p }}</a>
		  {% endif %}
		{% else %}
		  â€¦
		{% endif %}
	  {% endfor %}

	  {% if pagination.has_next %}
		<a href="{{ url_for('question._list', page=pagination.next_num, kw=kw) }}">ë‹¤ìŒ Â»</a>
	  {% endif %}
	</div>

{% endblock %}

